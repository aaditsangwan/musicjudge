<!DOCTYPE html>
<html>
  <head>
    <title>Your Top Tracks</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
  </head>
  <body>
    <div class="container">
      <h1>Your Top Tracks</h1>

      <div class="time-range">
        <a
          href="/top-tracks?time_range=short_term"
          class="{% if time_range == 'short_term' %}active{% endif %}"
          >Last 4 Weeks</a
        >
        <a
          href="/top-tracks?time_range=medium_term"
          class="{% if time_range == 'medium_term' %}active{% endif %}"
          >Last 6 Months</a
        >
        <a
          href="/top-tracks?time_range=long_term"
          class="{% if time_range == 'long_term' %}active{% endif %}"
          >All Time</a
        >
      </div>

      <ul class="tracks-list">
        {% for track in tracks %}
        <li>
          <span class="rank">{{ loop.index }}</span>
          {% if track.album.images and track.album.images|length > 0 %}
          <img src="{{ track.album.images[-1].url }}" alt="Album Cover" />
          {% endif %}
          <div class="track-info">
            <h3>{{ track.name }}</h3>
            <p>{{ track.artists|map(attribute='name')|join(', ') }}</p>
            <p class="album">{{ track.album.name }}</p>
          </div>
        </li>
        {% endfor %}
      </ul>

      <a href="/profile" class="btn back-btn">Back to Profile</a>
    </div>
  </body>
</html>
